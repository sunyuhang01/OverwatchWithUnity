OverWatch with Unity
整体需求：
	使用unity复现守望先锋中的英雄并制作UI选取英雄。
	复现英雄：麦克雷、76

	训练靶场机器人：
		1. 不动射击的
		2. 移动不射击的

麦克雷预制件：
	需求：
		1. 鼠标转动旋转视角，wasd移动位置
		2. 左键单发射击，右键六连
		3. 受到攻击减血死亡
		4. 被爆头两倍伤害
		5. 闲置播放闲置动画，移动播放移动动画，死亡播放死亡动画
		6. 技能
		
	脚本类：
		基本部分：
		1. FPSController 用于控制player移动、旋转视角、跳跃
		2. HeroInfo 定义英雄基本信息

		技能部分
		1. BaseSkill 基本技能类（不挂载）
			分为Skill1 -- shift操纵的；
				Skill2 -- e 操纵的；
				Ultimate Skill -- q操纵的

			定义基本通用的技能释放方法
		2. MccreeSkill 麦克雷技能类（继承自BaseSkill)
			对技能的释放效果方法进行重写来实现特定效果：
				e技能：闪光弹
				shift技能：向指定方向翻滚并上子弹
				q技能：午时已到（暂未实现）

		武器部分
		1. Gun 武器类（不挂载）
			定义基本的武器信息，如子弹数量、弹匣容量、装弹时间、主武器开火时间间隔等
			发射的子弹预制件
			定义了开火方法、子弹装填方法和主射击模式射击方法
		2. MccreeGun 麦克雷武器（继承自Gun）
			定义了专属的副射击模式射击方法（六连），并在update中对射击模式进行实现
		3. Bullet 子弹类（挂载在子弹预制件上由武器生成）
			定义了通用的子弹方法，且根据子弹射速（是否等于0）来区分即使命中子弹和延迟弹道子弹。
			两种不同类型子弹有不同的射线检测方法：
				- 即时命中子弹直接检测射线终点目标，如果检测到敌人直接命中，检测到环境则命中环境物体，未检测到物体则没有击中效果
				- 弹道类型子弹只检测环境物体来设定目标点，如果没有检测到目标碰撞体则将最大飞行距离设为目标点。在飞行过程中通过触发体来检测目标，触发效果与即时命中雷同。
		4. FlashBomb 闪光弹（继承自Bullet，挂载在闪光弹预制件上)
			麦克雷e的效果可以晕眩目标，重写Bullet中的特殊效果方法实现效果。


	普通类：
		1. MouseLook 用于鼠标旋转镜头
		2. Timer 用于维护一些需要倒计时的数值
		3. ResourceManager 用来管理读取资源后使用

机器人预制件：
	需求：
		1. 包含基本的英雄功能，但不需要进行操纵
		2. 总共分为三种机器人：
			- 不动不射击
			- 移动不射击
			- 不移动射击
		3. 移动的机器人按照指定路线进行移动

	脚本类：
		基本部分：
		1. HeroInfo 机器人的信息

		武器部分：
		1. RobotGun 机器人武器（继承自Gun）
			发射子弹的机器人需要启用的脚本，发射射速较慢、伤害较低的子弹

		马达部分：
		1. EnemyMotor 机器人马达
			用于控制需要移动的机器人的移动，并且按照指定路线进行寻路

	普通类：
		1. WayLine 指定机器人移动的路线，其中包含一个路点数组

UI：
	脚本类：
	1. PlayerUIController：用于修改Player界面上的UI
		包括：
			- 大招能量条的增加
			- 血条的修改
			- 子弹数量修改
			- 技能冷却
			- 死亡后的复活倒计时
			- 击中敌人时的击中反馈，爆头为红色反馈闪动，非爆头为白色
	2. HeroInfoUI: 用于修改敌方血条UI
		包括：
			- 血条随远近缩放大小
			- 修改血条的血量显示

	普通类：
	1. UIHelper： 用于辅助界面UI的显示
		包括方法：
			- 将数值转化为非负数（小于0的值取0），用于冷却数值倒计时不显示-1
			- 屏幕坐标转换为局部坐标，用于敌人血条在屏幕上的显示


记录：
	2021.6.15
		1. 先实现功能，后面再更换模型
	6.16
		1. 折腾了两天3dsmax 勉强导出了一个糖豆人模型 暂时先用着
	6.17
		1. 添加了bullet子弹类，gun手枪父类和maccreeGun的麦克雷手枪类
		2. 麦克雷实现了左键单发和右键六连，但都没有后坐力
	6.21
		1. 添加了训练靶场机器人，heroinfo脚本中添加了受击效果，但没有实现成功。
		2. 发现受击效果失败的原因是子弹飞出的位置和方向不对。应该是生成子弹的时候坐标有问题
		2-1. 找到问题的原因：position和rotation都是世界坐标，且子弹制作的时候忘记reset position了
		3. 子弹预制件需要改成从resources里获取的而不是拖拽的
		4. 当子弹速度为0时（即时命中）出现error
		4-1. 解决问题发现当没有击中collide时hit是空引用 会造成error，添加了一个isHit的布尔变量来判断
	6.22
		1. 添加了子弹的装填时间

	6.29
		1. 做了player的UI
	6.30
		1. 新增了RobotGun类，把robot的自动射击做好了，修改了Bullet中的击中逻辑，原来弹道和即时子弹不统一
		2. 子弹预制件的读取改成了从resources中用name的了，并且做了ResourceManager类来管理资源
		3. 做了闪光弹 没做完
	7.1
		1. VS坏了 折腾了一天VS 以后c++用vscode写了
		2. 增加了Timer类，用来对需要冷却时间的变量进行操作
	7.2
		1. 对BaseSkill类进行完善，还没测试，准备先做UI进行测试
		2. 用PS抠了麦克雷两个技能的UI图片
		3. 做了技能UI，目前技能没有持续时间的时候运转正常
		4. 用生成子弹的方式生成闪光弹，结果闪光弹出现位置是随机的，不知道咋回事
		4-1. 制作预制件的时候又忘记reset position了。。。
		5. 但是有时候会扔不出来，闪光弹的效果还没实现
	7.3
		1. 闪光弹和子弹触发不了robot的碰撞器 后来发现是没加刚体
		1-1 trigger三要素 两方碰撞器 一方isTrigger 一方刚体
		2. 实现了闪光弹的效果
		3. 发现非即时子弹射到墙上之后不会消失，发现是因为墙壁没有刚体无法触发碰撞效果
		3-1 修改了bullet中 对两种类型子弹使用了不同的射线检测方法
		4. 子弹射击的时候有时会出现在莫名其妙的地方，还不知道原因
		4-1. 发现在生成子弹时传入的FirePoint的position会忽然发生改变，不知为何
		4-2. 该问题在7.5时解决
		5. 修改了子弹飞行的方向，使其朝准星处飞行
	7.4
		1. 增加了翻滚 但是到处乱飞 感觉和子弹的问题是同一个问题，等待解决
		1-1 7.5的3解决
	7.5
		1. 子弹问题：获取FirePoint的transform值在update中会乱变，在fixedUpdate中就是固定值，改成fixedupdate后子弹发射位置正常了，但飞行方向变随机了
		1-1. 把子弹的start改成awake就好了，具体的原因还不清楚。。
		1-2. 问题总结：
			问题一：在update中获取的其他transform组件中的position和rotation数值在不动的时候也会发生改变，但在fixedUpdate中却是恒定的，原因不详。
			问题二：原先使用update时创建的子弹在start中执行计算目标点的方法不会出现问题，但改成fixedUpdate后获取Camera的transform就会出现问题，而改成awake中就可解决问题，原因不详。
		2. UI在显示倒计时时会显示-1，已修正
		3. 翻滚的代码在cube测试中正常，但放在人物上就不行，还在找原因
		3-1 一开始乱飞是把float?改成float后忘记初始化了，改正之后还是会乱飞
		3-2 问题在于character controller，所以常规的移动方法会导致对象乱飞
		3-3 测试的脚本用controller.Move移动没有问题 但在MccreeSkill里就会有问题 还没解决
		3-4 解决了：跟FPSController锁定角度有关系，如果不执行其中的rotateView，视角就会乱抖
	7.6
		1. 在非正常或大招情况下，锁定镜头，修改MouseLook类和FPSController类当中跟rotate相关的函数
		2. 本来想把英雄实体挂在Player下，但原先用FPSController和CharacterController操作英雄会导致Player和Hero不是一起移动的，暂时不做修改
		3. 完善了死亡和复活的功能
		4. 做屏幕显示敌人血条，但坐标系转换上有点问题
		4-1. 实现了敌人头上的血条，不过还没有随数值变化
	7.7
		1. 添加了敌人血条随数值变化的效果
		2. 发现背对敌人的时候也能看到血条，待修复
		2-1. 在7.8的1中解决
		3. 击中反馈还没做完
		3-1. 做击中反馈发现透明度不会变化，后来发现赋值的是百分比而不是255 * 百分比
	7.8
		1. 修复血条背对显示的bug，在背对显示的时候（血条的localPosition.z < 0)不显示血条。